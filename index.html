<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Patente Autos</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <link rel="stylesheet" href="styles.css?v=2024-06-21" />
</head>
  <body>
    <header class="header">
      <h1>Patente Autos</h1>
      <span class="pill pill--muted" id="build-version" aria-label="Versión de la interfaz"></span>
    </header>

  <main>
    <div id="mode-banner" class="banner" role="status" aria-live="polite">
      <p class="banner__title">Modo de carga</p>
      <p class="banner__body">Verificando el estado…</p>
    </div>

    <section class="card">
      <div class="card__header">
        <div>
          <p class="eyebrow">Nueva búsqueda</p>
          <h2>Agregar patente al CRM</h2>
        </div>
        <button id="patentechile-link" class="ghost">Abrir patentechile.com</button>
      </div>

      <form id="plate-form" class="stack">
        <div class="grid grid--compact">
          <label class="field wide">
            <span>Patente*</span>
            <input
              id="plate-input"
              name="plate"
              autocomplete="off"
              required
              maxlength="10"
              placeholder="Ej: AA1122 o BBCC11"
            />
          </label>
          <div class="actions actions--stacked">
            <button type="button" class="primary" id="lookup-btn">Buscar en patentechile.com</button>
            <button type="button" class="ghost" id="manual-toggle">Completar manualmente</button>
          </div>
        </div>
        <p id="lookup-status" class="helper">
          Ingresa la patente y luego elige si la consultas en línea o si despliegas la ficha manual.
        </p>

        <div id="manual-panel" class="manual">
          <div class="manual__header">
            <div>
              <p class="eyebrow">Ficha rápida</p>
              <h3>Características del vehículo</h3>
              <p class="helper">
                Usa este bloque para copiar las características clave tal como salen en la tabla de patentechile.com.
              </p>
            </div>
            <span class="pill pill--muted">Se abre al tocar “Completar manualmente”.</span>
          </div>

          <div class="grid">
            <label class="field">
              <span>Vehículo / Modelo</span>
              <input id="feature-vehicle" autocomplete="off" placeholder="Ej: Volkswagen Amarok 4x4" />
            </label>
            <label class="field">
              <span>Año</span>
              <input id="feature-year" autocomplete="off" placeholder="2018" />
            </label>
            <label class="field">
              <span>Origen</span>
              <input id="feature-origin" autocomplete="off" placeholder="Quilicura, Valparaíso…" />
            </label>
            <label class="field">
              <span>Permiso de circulación</span>
              <input id="feature-permit" autocomplete="off" placeholder="2023 pagado total / Vence 2024" />
            </label>
            <label class="field">
              <span>Fecha última R.T.</span>
              <input id="feature-inspection" autocomplete="off" placeholder="Vencida 2019" />
            </label>
            <label class="field">
              <span>Kilometraje</span>
              <input id="feature-kms" autocomplete="off" placeholder="519.856 kms" />
            </label>
            <label class="field">
              <span>Precio / Valor referencia</span>
              <input id="feature-price" autocomplete="off" placeholder="$9.300.000" />
            </label>
          </div>

          <div class="grid">
            <label class="field">
              <span>Segmento*</span>
              <select id="segment-select" name="segment" required>
                <option value="Autos para comprar">Autos para comprar</option>
                <option value="Autos de remates">Autos de remates</option>
                <option value="Camiones mineros">Camiones de empresas mineras</option>
                <option value="Camiones transportistas">Camiones de transportistas</option>
                <option value="Otro">Otro</option>
              </select>
            </label>
            <label class="field">
              <span>Notas / datos del vehículo</span>
              <textarea
                id="notes-input"
                name="notes"
                rows="4"
                placeholder="Pega aquí el resumen de la consulta: marca, modelo, año, dueño, observaciones..."
              ></textarea>
            </label>
            <label class="field">
              <span>Etiquetas (separadas por coma)</span>
              <input id="tags-input" name="tags" autocomplete="off" placeholder="ej: revisión técnica, transferencia, deuda" />
            </label>
            <div class="actions">
              <button type="submit" class="primary">Guardar en CRM</button>
              <button type="reset" class="ghost" id="reset-btn">Limpiar</button>
            </div>
          </div>
        </div>
      </form>
    </section>

    <section class="card">
      <div class="card__header">
        <div>
          <p class="eyebrow">Historial</p>
          <h2>Patentes guardadas</h2>
        </div>
        <div class="filters">
          <label class="field compact">
            <span>Filtrar por patente</span>
            <input id="search-input" placeholder="Buscar por patente" />
          </label>
          <label class="field compact">
            <span>Segmento</span>
            <select id="filter-segment">
              <option value="">Todos</option>
            </select>
          </label>
        </div>
      </div>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>Patente</th>
              <th>Segmento</th>
              <th>Características</th>
              <th>Notas</th>
              <th>Etiquetas</th>
              <th>Guardado</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="records-body">
            <tr class="empty">
              <td colspan="7">Aún no hay patentes guardadas.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <template id="record-row">
    <tr>
      <td class="plate"></td>
      <td class="segment"></td>
      <td class="details"></td>
      <td class="notes"></td>
      <td class="tags"></td>
      <td class="timestamp"></td>
      <td class="row-actions">
        <button class="ghost small copy">Copiar</button>
        <button class="ghost small delete">Borrar</button>
      </td>
    </tr>
  </template>

  <script src="script.js?v=2024-06-21"></script>
</body>
</html>
